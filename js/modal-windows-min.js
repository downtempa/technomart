!function(){var e=document.querySelector(".write-us-btn"),t=document.querySelector(".write-us-popup"),o=document.querySelector(".closing-write-us"),c=document.querySelector("#popup-user-name"),r=document.querySelector("#popup-user-email"),s=document.querySelector("#message-text"),a=document.querySelector(".write-us-popup form"),n=localStorage.getItem("userName"),l=localStorage.getItem("userEmail"),u=document.querySelectorAll(".buy-accept"),d=document.querySelector(".add-to-cart-popup"),i=document.querySelectorAll(".closing-cart"),m=document.querySelector(".open-modal-map"),p=document.querySelector(".modal-map"),v=document.querySelector(".closing-map"),w=document.querySelectorAll(".promo-slides button"),f=document.querySelectorAll('[name^="promo"]');t&&(e.addEventListener("click",function(e){e.preventDefault(),t.classList.add("write-us-popup-show"),n&&!l?(c.value=n,r.focus()):n&&l?(c.value=n,r.value=l,s.focus()):c.focus()}),a.addEventListener("submit",function(e){c.value&&r.value&&s.value?(localStorage.setItem("userName",c.value),localStorage.setItem("userEmail",r.value)):(e.preventDefault(),t.classList.add("modal-error"))}),o.addEventListener("click",function(e){e.preventDefault(),t.classList.remove("write-us-popup-show"),t.classList.remove("modal-error")}),window.addEventListener("keydown",function(e){27===e.keyCode&&t.classList.contains("write-us-popup-show")&&(t.classList.remove("write-us-popup-show"),t.classList.remove("modal-error"))}));for(var L=0;L<u.length;L++)u[L].addEventListener("click",function(e){e.preventDefault(),d.classList.add("add-to-cart-show")});for(var L=0;L<i.length;L++)i[L].addEventListener("click",function(e){e.preventDefault(),d.classList.remove("add-to-cart-show")});window.addEventListener("keydown",function(e){27===e.keyCode&&d.classList.contains("add-to-cart-show")&&d.classList.remove("add-to-cart-show")}),p&&(m.addEventListener("click",function(e){e.preventDefault(),p.classList.add("modal-map-show")}),v.addEventListener("click",function(e){e.preventDefault(),p.classList.remove("modal-map-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&p.classList.contains("modal-map-show")&&p.classList.remove("modal-map-show")}));for(var L=0;L<w.length;L++)w[L].addEventListener("click",function(e){var t=document.querySelector(".promo-block-slider input:checked"),o=[].indexOf.call(f,t),c=f.length;switch(this.dataset.direction){case"left":0==o?f[c-1].checked=!0:f[o-1].checked=!0;break;case"right":c-1==o?f[0].checked=!0:f[o+1].checked=!0}})}();